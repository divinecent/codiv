function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t=function(e,t,r){"use strict";var n,o;if(function(){var t,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in o=e.lazySizesConfig||e.lazysizesConfig||{},r)t in o||(o[t]=r[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var a=t.documentElement,i=e.HTMLPictureElement,l="addEventListener",c="getAttribute",s=e[l].bind(e),u=e.setTimeout,d=e.requestAnimationFrame||u,p=e.requestIdleCallback,m=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],v={},y=Array.prototype.forEach,g=function(e,t){return v[t]||(v[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),v[t].test(e[c]("class")||"")&&v[t]},h=function(e,t){g(e,t)||e.setAttribute("class",(e[c]("class")||"").trim()+" "+t)},b=function(e,t){var r;(r=g(e,t))&&e.setAttribute("class",(e[c]("class")||"").replace(r," "))},w=function(e,t,r){var n=r?l:"removeEventListener";r&&w(e,t),f.forEach(function(r){e[n](r,t)})},S=function(e,r,o,a,i){var l=t.createEvent("Event");return o||(o={}),o.instance=n,l.initEvent(r,!a,!i),l.detail=o,e.dispatchEvent(l),l},A=function(t,r){var n;!i&&(n=e.picturefill||o.pf)?(r&&r.src&&!t[c]("srcset")&&t.setAttribute("srcset",r.src),n({reevaluate:!0,elements:[t]})):r&&r.src&&(t.src=r.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},L=function(e,t,r){for(r=r||e.offsetWidth;r<o.minSize&&t&&!e._lazysizesWidth;)r=t.offsetWidth,t=t.parentNode;return r},E=function(){var e,r,n=[],o=[],a=n,i=function(){var t=a;for(a=n.length?o:n,e=!0,r=!1;t.length;)t.shift()();e=!1},l=function(n,o){e&&!o?n.apply(this,arguments):(a.push(n),r||(r=!0,(t.hidden?u:d)(i)))};return l._lsFlush=i,l}(),T=function(e,t){return t?function(){E(e)}:function(){var t=this,r=arguments;E(function(){e.apply(t,r)})}},P=function(e){var t,n=0,a=o.throttleDelay,i=o.ricTimeout,l=function(){t=!1,n=r.now(),e()},c=p&&i>49?function(){p(l,{timeout:i}),i!==o.ricTimeout&&(i=o.ricTimeout)}:T(function(){u(l)},!0);return function(e){var o;(e=!0===e)&&(i=33),t||(t=!0,(o=a-(r.now()-n))<0&&(o=0),e||o<9?c():u(c,o))}},k=function(e){var t,n,o=function(){t=null,e()},a=function(){var e=r.now()-n;e<99?u(a,99-e):(p||o)(o)};return function(){n=r.now(),t||(t=u(a,99))}},j=function(){var i,p,f,v,L,j,x,O,M,D,I,q,F=/^img$/i,N=/^iframe$/i,z="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),R=0,V=0,H=-1,B=function(e){V--,(!e||V<0||!e.target)&&(V=0)},G=function(e){return null==q&&(q="hidden"==C(t.body,"visibility")),q||!("hidden"==C(e.parentNode,"visibility")&&"hidden"==C(e,"visibility"))},W=function(e,r){var n,o=e,i=G(e);for(O-=r,I+=r,M-=r,D+=r;i&&(o=o.offsetParent)&&o!=t.body&&o!=a;)(i=(C(o,"opacity")||1)>0)&&"visible"!=C(o,"overflow")&&(n=o.getBoundingClientRect(),i=D>n.left&&M<n.right&&I>n.top-1&&O<n.bottom+1);return i},K=function(){var e,r,l,s,u,d,m,f,y,g,h,b,w=n.elements;if((v=o.loadMode)&&V<8&&(e=w.length)){for(r=0,H++;r<e;r++)if(w[r]&&!w[r]._lazyRace)if(!z||n.prematureUnveil&&n.prematureUnveil(w[r]))X(w[r]);else if((f=w[r][c]("data-expand"))&&(d=1*f)||(d=R),g||(g=!o.expand||o.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:o.expand,n._defEx=g,h=g*o.expFactor,b=o.hFac,q=null,R<h&&V<1&&H>2&&v>2&&!t.hidden?(R=h,H=0):R=v>1&&H>1&&V<6?g:0),y!==d&&(j=innerWidth+d*b,x=innerHeight+d,m=-1*d,y=d),l=w[r].getBoundingClientRect(),(I=l.bottom)>=m&&(O=l.top)<=x&&(D=l.right)>=m*b&&(M=l.left)<=j&&(I||D||M||O)&&(o.loadHidden||G(w[r]))&&(p&&V<3&&!f&&(v<3||H<4)||W(w[r],d))){if(X(w[r]),u=!0,V>9)break}else!u&&p&&!s&&V<4&&H<4&&v>2&&(i[0]||o.preloadAfterLoad)&&(i[0]||!f&&(I||D||M||O||"auto"!=w[r][c](o.sizesAttr)))&&(s=i[0]||w[r]);s&&!u&&X(s)}},U=P(K),$=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(B(e),h(t,o.loadedClass),b(t,o.loadingClass),w(t,Y),S(t,"lazyloaded"))},J=T($),Y=function(e){J({target:e.target})},Q=function(e){var t,r=e[c](o.srcsetAttr);(t=o.customMedia[e[c]("data-media")||e[c]("media")])&&e.setAttribute("media",t),r&&e.setAttribute("srcset",r)},Z=T(function(e,t,r,n,a){var i,l,s,d,p,v;(p=S(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(r?h(e,o.autosizesClass):e.setAttribute("sizes",n)),l=e[c](o.srcsetAttr),i=e[c](o.srcAttr),a&&(d=(s=e.parentNode)&&m.test(s.nodeName||"")),v=t.firesLoad||"src"in e&&(l||i||d),p={target:e},h(e,o.loadingClass),v&&(clearTimeout(f),f=u(B,2500),w(e,Y,!0)),d&&y.call(s.getElementsByTagName("source"),Q),l?e.setAttribute("srcset",l):i&&!d&&(N.test(e.nodeName)?function(e,t){var r=e.getAttribute("data-load-mode")||o.iframeLoadMode;0==r?e.contentWindow.location.replace(t):1==r&&(e.src=t)}(e,i):e.src=i),a&&(l||d)&&A(e,{src:i})),e._lazyRace&&delete e._lazyRace,b(e,o.lazyClass),E(function(){var t=e.complete&&e.naturalWidth>1;v&&!t||(t&&h(e,o.fastLoadedClass),$(p),e._lazyCache=!0,u(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&V--},!0)}),X=function(e){if(!e._lazyRace){var t,r=F.test(e.nodeName),n=r&&(e[c](o.sizesAttr)||e[c]("sizes")),a="auto"==n;(!a&&p||!r||!e[c]("src")&&!e.srcset||e.complete||g(e,o.errorClass)||!g(e,o.lazyClass))&&(t=S(e,"lazyunveilread").detail,a&&_.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,V++,Z(e,t,a,n,r))}},ee=k(function(){o.loadMode=3,U()}),te=function(){3==o.loadMode&&(o.loadMode=2),ee()},re=function(){p||(r.now()-L<999?u(re,999):(p=!0,o.loadMode=3,U(),s("scroll",te,!0)))};return{_:function(){L=r.now(),n.elements=t.getElementsByClassName(o.lazyClass),i=t.getElementsByClassName(o.lazyClass+" "+o.preloadClass),s("scroll",U,!0),s("resize",U,!0),s("pageshow",function(e){if(e.persisted){var r=t.querySelectorAll("."+o.loadingClass);r.length&&r.forEach&&d(function(){r.forEach(function(e){e.complete&&X(e)})})}}),e.MutationObserver?new MutationObserver(U).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[l]("DOMNodeInserted",U,!0),a[l]("DOMAttrModified",U,!0),setInterval(U,999)),s("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){t[l](e,U,!0)}),/d$|^c/.test(t.readyState)?re():(s("load",re),t[l]("DOMContentLoaded",U),u(re,2e4)),n.elements.length?(K(),E._lsFlush()):U()},checkElems:U,unveil:X,_aLSL:te}}(),_=function(){var e,r=T(function(e,t,r,n){var o,a,i;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),m.test(t.nodeName||""))for(a=0,i=(o=t.getElementsByTagName("source")).length;a<i;a++)o[a].setAttribute("sizes",n);r.detail.dataAttr||A(e,r.detail)}),n=function(e,t,n){var o,a=e.parentNode;a&&(n=L(e,a,n),(o=S(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=o.detail.width)&&n!==e._lazysizesWidth&&r(e,a,o,n))},a=k(function(){var t,r=e.length;if(r)for(t=0;t<r;t++)n(e[t])});return{_:function(){e=t.getElementsByClassName(o.autosizesClass),s("resize",a)},checkElems:a,updateElem:n}}(),x=function(){!x.i&&t.getElementsByClassName&&(x.i=!0,_._(),j._())};return u(function(){o.init&&x()}),n={cfg:o,autoSizer:_,loader:j,init:x,uP:A,aC:h,rC:b,hC:g,fire:S,gW:L,rAF:E}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});var VanillaHelper={formDataCreator:function(e){var t=new window.FormData;return Object.keys(e).forEach(function(r){var n=e[r];n&&t.append(r,n)}),t},ajax:function(e){var t=e.url,r=e.data,n=e.type,o=void 0===n?"GET":n,a=e.async,i=void 0===a||a,l=e.error,c=void 0===l?function(e){return e}:l,s=e.success,u=void 0===s?function(e){return e}:s,d="object"===_typeof(r)?this.formDataCreator(r):r,p=new XMLHttpRequest;p.onreadystatechange=function(){var e=p.readyState,t=p.status,r=p.responseText,n=void 0===r?"":r;if(e===XMLHttpRequest.DONE)if(200===t&&u)try{return""===n?void u({}):void u(JSON.parse(n))}catch(e){console.log("error",e)}else p.status,c(JSON.parse(n))},p.open(o,t,i||!1),p.send(["POST","DELETE"].includes(o)?d:void 0)},setElementStyle:function(e,t){e&&"object"===_typeof(t)&&Object.keys(t).forEach(function(r){var n=t[r];n&&(e.style[r]=n)})},getObjectPropertSafe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return r;if(0===t.length)return r;for(var n=e,o=0;o<t.length;o++){var a=n[t[o]];if(!a)return r;n=a}return n},destructObject:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];if("object"!==_typeof(e))return[];if(0===t.length)return[];for(var r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r},addEventListenerToNodeList:function(e,t,r){Array.from(document.querySelectorAll(e)).forEach(function(e){e.addEventListener(t,r)})},setGetValuesNodeList:function(e,t){var r=[];return Array.from(document.querySelectorAll(e)).forEach(function(e){(t||""===t)&&(e.value=t),r.push(e.value)}),r},addRemoveClass:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"string"==typeof e?Array.from(document.querySelectorAll(e)).map(function(e){e.classList[r?"remove":"add"](t)}):e&&e.classList[r?"remove":"add"](t)},getFirstParentElementByTagName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.getObjectPropertSafe(e,["parentElement"],null);return r?this.getObjectPropertSafe(r,["tagName"],"")===t.toUpperCase()?r:this.getFirstParentElementByTagName(r,t):null},getFirstParentElementByClassName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.getObjectPropertSafe(e,["parentElement"],null);return r?this.getObjectPropertSafe(r,["className"],"").split(" ").includes(t)?r:this.getFirstParentElementByClassName(r,t):null},hasClass:function(e,t){if(!e)return!1;if(Array.isArray(t)){var r=Array.from(e.classList);return!t.find(function(e){return!r.includes(e)})}return"string"==typeof t?t.includes(t):void 0},addClass:function(e,t){if(!e)return!1;if(Array.isArray(t))t.filter(function(e){return e}).forEach(function(t){e.classList.add(t)});else if("string"==typeof t&&t)return t.includes(t)}};function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new _(n||[]);return o(i,"_invoke",{value:T(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",y={};function g(){}function h(){}function b(){}var w={};s(w,i,function(){return this});var S=Object.getPrototypeOf,A=S&&S(S(x([])));A&&A!==r&&n.call(A,i)&&(w=A);var C=b.prototype=g.prototype=Object.create(w);function L(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==_typeof(u)&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,o){r(e,n,t,o)})}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=P(l,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:m,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_typeof(t)+" is not iterable")}return h.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},L(E.prototype),s(E.prototype,l,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},L(C),s(C,c,"Generator"),s(C,i,function(){return this}),s(C,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function asyncGeneratorStep(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,n,o,i,l,"next",e)}function l(e){asyncGeneratorStep(a,n,o,i,l,"throw",e)}i(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var LiteCommon={translate:function(e,t){return e.locale&&"function"==typeof e.locale?e.locale(t):e},track:function(e,t,r){var n=e.trackerKey,o=e.user,a=LiteCommon.getDeviceType(),i="".concat(a,":").concat(t),l=VanillaHelper.getObjectPropertSafe(window,["user","username"],"");o&&(l=VanillaHelper.getObjectPropertSafe(o,["username"],""));var c=VanillaHelper.getObjectPropertSafe(window,[n,"tick"],function(e){return e});setTimeout(function(){return c({actor:l,target:r,action:i})},0)},handleCloneGTMAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t&&""!==t){var n={event:t},o=e.getAttribute("data-slug");o&&(n=_objectSpread(_objectSpread({},n),{},{slug:o}));var a=r.isAppEmbedMode?window.parent.dataLayer:window.dataLayer;a&&setTimeout(function(){return a.push(n)},0)}},getCurrentContext:function(){return VanillaHelper.getObjectPropertSafe(window,["directoryContext"],"")},isLandingMode:function(){return-1!==VanillaHelper.getObjectPropertSafe(window,["templateDirectoryMode"],"").indexOf("landing")},isStandaloneMode:function(){return-1!==Array.from(VanillaHelper.getObjectPropertSafe(document,["body","classList"],[])).indexOf("standalone")},getTemplateMetaInfo:function(e){return LiteCommon.isLandingMode()?{templateSource:"LANDING",templateContext:"landing"}:LiteCommon.isStandaloneMode()?{templateSource:e,templateContext:"standalone"}:{templateSource:"TEMPLATES",templateContext:LiteCommon.getCurrentContext()}},getDeviceType:function(){var e=VanillaHelper.getObjectPropertSafe(window,["innerWidth"],800);return e<=480?"mobile":e<=768?"tablet":"desktop"},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isTablet:function(){var e=navigator.userAgent.toLowerCase(),t=/(ipad|tablet|(android(?!.*mobile))|kindle|silk|playbook|nexus(?!.*mobile))/i.test(e),r=screen.width>480&&screen.width<=1024||screen.height>480&&screen.height<=1024;return t||r},getPortalRoot:function(){if(document.getElementById("templates-portal-root"))return document.getElementById("templates-portal-root");var e=document.createElement("div");return e.id="templates-portal-root",document.body.appendChild(e),e},openFormLimitModal:function(e,t){return window["for-limit-dialog"].openFormLimitDialog({user:window.user||{},dispatchedFrom:t,selectedLimitType:"formCount",portalRoot:this.getPortalRoot()})},getClonePayload:function(e,t){var r=t.templateType,n=t.templateID,o=t.templateSpecifier,a=t.templateClass,i={};switch(a&&(i=_objectSpread(_objectSpread({},i),{},{toggleDisableClone:function(e){a.disableTemplateClone=void 0!==e?e:!a.disableTemplateClone}})),r){case"form":var l="card"===o,c=e.getAttribute("data-categories")||"",s=window.frameElement&&window.frameElement.src,u=s&&s.indexOf("teamID=")>-1&&s.split("teamID=").length>0?s.split("teamID=")[1].split("&")[0]:"",d=s&&s.indexOf("folderID=")>-1&&s.split("folderID=").length>0?s.split("folderID=")[1].split("&")[0]:"";return _objectSpread({templateSrc:"MYFORMS",actionKey:"cloneForm",gtmActionKey:"cloneForm",newResourceURLFormat:"/build/",listingType:"form-templates",isSalesforceTemplate:c.includes("3254377341"),customCloneResponseIDPath:["form","id"],extraClonePayload:_objectSpread(_objectSpread({theme:l?"cardform":"classic",formID:n},u?{teamID:u}:{}),d?{folderID:d}:{}),extraOnSuccessCallback:function(e){var t=window.dataLayer;(void 0===t?[]:t).push({event:"createForm",eventAction:"Complete"}),LiteCommon.track("formCreationCompleted",e)}},i);case"pdf":var p="e-sign"===o;return _objectSpread(_objectSpread(_objectSpread({newResourceURLFormat:p?"/sign/":"/pdf-editor/new/",actionKey:p?"cloneESignTemplate":"logCloneContext",gtmActionKey:p?"cloneSignDocument":"clonePDF"},p&&{customCloneResponseIDPath:["formID"],extraClonePayload:{signable:!0}}),!p&&{useTemplateID:!0}),{},{apiURL:"pdf-templates",listingType:"pdf-templates".concat(p?"/e-sign":"")},i);case"app":return _objectSpread({templateSrc:"MYAPPS",gtmActionKey:"cloneApp",listingType:"app-templates",newResourceURLFormat:"/app/build/",extraOnSuccessCallback:function(e){var t=window.parent,r=void 0===t?{}:t,n=r.user,o=r._user;(n||o)&&LiteCommon.track({trackerKey:"portalAppEvents",user:n||o},"appCreated",{isPWA:!1,portalID:e,device:LiteCommon.getDeviceType()})}},i);case"approval":return _objectSpread({templateSrc:"MYAPPROVALS",gtmActionKey:"cloneApproval",listingType:"approval-templates",newResourceURLFormat:"/workflow/"},i);case"workflow":return _objectSpread({templateSrc:"MYWORKFLOWS",gtmActionKey:"cloneWorkflow",listingType:"workflow-templates",newResourceURLFormat:"/workflow/"},i);case"page":return _objectSpread({templateSrc:"MYPAGES",gtmActionKey:"clonePage",listingType:"page-templates",newResourceURLFormat:"/page/build/"},i);case"table":return _objectSpread({templateSrc:"MYTABLES",useParentCustomHandler:!0,gtmActionKey:"cloneTable",listingType:"table-templates",newResourceURLFormat:"/tables/"},i);case"agent":return _objectSpread({templateSrc:"MYAGENTS",useParentCustomHandler:!0,gtmActionKey:"cloneAgent",listingType:"agent-directory",newResourceURLFormat:"/agent/build/"},i);default:return!1}},handleUseTemplateClick:function(e,t){var r=e||{},n=r.currentTarget,o=r.target;if(n){var a=LiteCommon.getClonePayload(o,t);if(a&&("object"!==_typeof(a)||0!==Object.keys(a).length)){var i=a.apiURL,l=a.listingType,c=a.gtmActionKey,s=a.templateSrc,u=void 0===s?"":s,d=a.newResourceURLFormat,p=a.useTemplateID,m=void 0!==p&&p,f=a.extraClonePayload,v=void 0===f?{}:f,y=a.actionKey,g=void 0===y?"useTemplate":y,h=a.toggleDisableClone,b=void 0===h?function(e){return e}:h,w=a.customCloneResponseIDPath,S=void 0===w?["id"]:w,A=a.useParentCustomHandler,C=void 0!==A&&A,L=a.extraOnSuccessCallback,E=void 0===L?function(e){return e}:L,T=a.isSalesforceTemplate,P=void 0!==T&&T,k=n.innerText,j=n.getAttribute("data-template");n.innerText=LiteCommon.translate("Please wait..."),n.setAttribute("disabled",!0);var _=o.getAttribute("data-action-target");if("function"==typeof window.track&&setTimeout(function(){return window.track("useTemplate",_)},0),b(),!window.PLATFORM_ENV){var x=(parent||{}).handleUseTemplate;if(C&&x&&"function"==typeof x)return void x(j)}var O=LiteCommon.getTemplateMetaInfo(u),M=O.templateContext,D=O.templateSource;window.sendMessageToJFMobile&&window.location.href.includes("jotformNext=1")?window.sendMessageToJFMobile(_objectSpread({useTemplate:!0},_objectSpread({id:j,source:D,context:M,action:g},v))):VanillaHelper.ajax({type:"POST",url:(window.appDirectoryPath||"/".concat(i||l))+"/api",data:_objectSpread({id:j,source:D,context:M,action:g},v),success:function(e){var t;if(n&&(n.innerText=k,n.removeAttribute("disabled")),t=m?j:VanillaHelper.getObjectPropertSafe(e,["data"].concat(_toConsumableArray(S)),null)){window.PLATFORM_ENV||setTimeout(function(){return E(t)},0),b();var r="".concat(d).concat(t);if("string"==typeof window.PLATFORM_ENV&&window.PLATFORM_ENV.length>0&&(r="/platform/".concat(window.PLATFORM_ENV).concat(r)),LiteCommon.isStandaloneMode())return window.parent.location.href=r;if("undefined"==typeof isAppEmbedMode||!0!==isAppEmbedMode&&"1"!==isAppEmbedMode){"app-templates"===l&&window.sessionStorage.setItem("app-creation-source","app-templates");var o=!(!e.data||!e.data.showPaymentFieldAfterCloneTest)&&e.data.showPaymentFieldAfterCloneTest;window.location.href="".concat(r).concat("form-templates"===l?"?s=templates":"").concat(P?"&salesforceTemplate=1":"").concat(o?"&showPaymentField=true":"")}else try{if(!window.parent.open(r,"_blank"))try{window.parent.location.href=r}catch(e){console.log("error",e)}}catch(e){console.log("error",e)}setTimeout(function(){return LiteCommon.handleCloneGTMAction(n,c,{isAppEmbedMode:window.isAppEmbedMode})},0)}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n&&(n.innerText=k,n.removeAttribute("disabled")),403===e.status&&"agent-directory"===l&&!LiteCommon.isStandaloneMode()){var t=document.querySelector('[data-id="ai-agreement-modal"]');if(t){document.body.classList.add("modal-open"),t.parentElement.parentElement.classList.remove("hide");var r=document.querySelector('[data-trigger="approve-ai-agreement"]'),o=document.querySelector("#beta-agreement-cb"),a=document.querySelector('[data-trigger="approve-ai-agreement"]');o&&o.addEventListener("change",function(){o.checked?a.classList.remove("opacity-60","pointer-events-none"):a.classList.add("opacity-60","pointer-events-none")}),r&&r.addEventListener("click",function(e){o.checked&&LiteCommon.approveBetaAgreement(j)})}}if(VanillaHelper.getObjectPropertSafe(e,["data","force-login"],!1)&&showModal("s2"),["form-templates","table-templates"].includes(l)){var i=VanillaHelper.getObjectPropertSafe(e,["data","form-limit-exceed"],!1);if(i&&"1"===window.isAppEmbedMode){var c=document.querySelector('[data-container="form-limit"]');c&&c.parentElement.classList.remove("hide")}else if(i){var s=VanillaHelper.getObjectPropertSafe(e,["data","limit"],5);LiteCommon.openFormLimitModal(s,l)}}b(!1)},complete:function(){n&&(n.innerText=k,n.removeAttribute("disabled"))}})}}},handleSearch:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e){var a=e.value||"",i=VanillaHelper.getFirstParentElementByTagName(e,"form");if(VanillaHelper.addRemoveClass("button[data-trigger='reset']","hide",a.length>0),13==t.keyCode||r){var l=a,c=l.trim();if(setTimeout(function(){return window.track("search",c)},0),t.preventDefault(),!l||!c.length||"undefined"==l)return!1;n&&i&&!o?(e.value=c,i.submit()):i&&(window.location.href="".concat(i.getAttribute("action")).concat(o?"?q=".concat(encodeURIComponent(c)):"/".concat(encodeURIComponent(c))),document.activeElement.blur())}}},approveBetaAgreement:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/API/user/settings",{method:"POST",body:new URLSearchParams({AIAgentBetaAccepted:"1",aiAgentBetaUser:"1"})});case 3:(r=document.querySelector('button[data-template="'.concat(t,'"]')))&&LiteCommon.handleUseTemplateClick({currentTarget:r,target:r},{templateID:t,templateType:"agent",templateClass:Agent}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getOffsetTop:function(e){if(null===e)return 0;try{var t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;return t.top+r.pageYOffset}catch(e){return 0}},handleScroll:function(){var e=document.querySelector("section.header"),t=document.querySelector(".sticky-header"),r=document.querySelector(".js-search-input"),n=0;LiteCommon.isStandaloneMode()?n=80:null!==r&&(n=LiteCommon.getOffsetTop(r)),null!==t&&null!==e&&LiteCommon.handleToggleStickyHeader(document.documentElement.scrollTop>n+40,t,e)},handleToggleStickyHeader:function(e,t,r){var n=[document.querySelector(".js-search-input-clone"),document.querySelector(".js-hero-go-clone")];e?(t.classList.add("is-active"),t.classList.add("block"),t.classList.remove("hidden"),r.classList.add("has-sticky")):(t.classList.remove("is-active"),t.classList.remove("block"),t.classList.add("hidden"),r.classList.remove("has-sticky")),n.forEach(function(t){null!==t&&t.setAttribute("tabindex",e?"0":"-1")})},handleSearchInputs:function(){VanillaHelper.addEventListenerToNodeList(".hero-search-form","submit",function(e){var t=e.target;if(t){var r=t.querySelector('[data-trigger="search"]');r&&(r.value||e.preventDefault())}}),VanillaHelper.addEventListenerToNodeList(".js-searcharea-close","click",function(e){var t=e.target;if(t){var r=t.querySelector(".js-mobiletop-searchactive");VanillaHelper.addRemoveClass(r,"search-active",!0)}}),VanillaHelper.addEventListenerToNodeList(".js-searcharea","click",function(e){VanillaHelper.addRemoveClass(".js-mobiletop-searchactive","search-active")});var e=document.querySelector("input.js-search-input"),t=document.querySelector(".js-search-input-clone");t&&e&&""!==e.value&&e.value!==t.value&&(t.value=e.value),e&&"string"==typeof e.value&&e.value.length>0&&VanillaHelper.addRemoveClass(".js-button-reset","hide",!0),VanillaHelper.addEventListenerToNodeList(".js-button-reset","click",function(e){var t=e.target;if(t){var r=t.parentElement.querySelectorAll("input");Array.from(r).forEach(function(e){e.focus()})}}),VanillaHelper.addEventListenerToNodeList("input.js-search-input","paste",function(e){VanillaHelper.addRemoveClass(".js-button-reset","hide")}),VanillaHelper.addEventListenerToNodeList('[data-trigger="search"]',"focus",function(e){var t=e.target;if(t){var r=VanillaHelper.getFirstParentElementByClassName(t,"hero-search");VanillaHelper.addRemoveClass(r,"focused")}}),VanillaHelper.addEventListenerToNodeList('[data-trigger="search"]',"focusout",function(e){var t=e.target;if(t){var r=VanillaHelper.getFirstParentElementByClassName(t,"hero-search");VanillaHelper.addRemoveClass(r,"focused",!0)}}),document.addEventListener("keydown",function(e){var t=e.keyCode||e.charCode||0,r=document.querySelectorAll("input.js-search-input");Array.from(r).forEach(function(e){27==t&&document.activeElement===e&&(e.value="")})}),"q"==window.location.search.substr(1)[0]&&VanillaHelper.addRemoveClass(".js-mobiletop-searchactive","search-active")},initializeSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];VanillaHelper.addEventListenerToNodeList("button[data-trigger='fire-search']","click",function(r){var n=r.target,o=VanillaHelper.getFirstParentElementByTagName(n,"div");if(o){var a=o.querySelector("input[data-trigger='search']");LiteCommon.handleSearch(a,r,!0,e,t)}}),VanillaHelper.addEventListenerToNodeList("button[data-trigger='reset']","click",function(e){VanillaHelper.setGetValuesNodeList("input[data-trigger='search']",""),VanillaHelper.addRemoveClass(".button-reset","hide")}),Array.from(document.querySelectorAll("input[data-trigger='search']")).map(function(r){r.addEventListener("focus",function(){setTimeout(function(){return window.track("searchBox-click")},0)}),r.addEventListener("keyup",function(n){VanillaHelper.setGetValuesNodeList("input[data-trigger='search']",r.value),LiteCommon.handleSearch(r,n,!1,e,t)})})},renderPrevNextTemplate:function(e){var t=e.id,r=e.container,n=e.isPrev,o=void 0!==n&&n,a=e.track,i=void 0===a?function(e){return e}:a,l=e.modalOpener,c=void 0===l?function(e){return e}:l,s=e.templateContainerListing,u=e.templateContainerCarousel,d=e.goToPage,p=void 0!==d&&d;document.querySelector("body").classList.add("modal-template-navigating");for(var m=[],f=0;f<u.length;f++){var v=u[f].getAttribute("data-container");v&&m.indexOf(v)<0&&m.push(v)}for(var y=0;y<s.length;y++){var g=s[y].getAttribute("data-container");g&&m.indexOf(g)<0&&m.push(g)}for(var h,b=function(){var e=r[w];try{var n,a=e.querySelector("div.cta-controls");if(a&&a.classList.add("loading"),n=o?(n=m.indexOf(t)-1)<0?m.length-1:n:(n=m.indexOf(t)+1)>=m.length?0:n,p&&document.querySelector("a[data-id='"+m[n]+"']"))return{v:window.location.href=document.querySelector("a[data-id='"+m[n]+"']").getAttribute("href")};c(m[n],!1),setTimeout(function(){return i(m[n])},0)}catch(t){var l=o?"modalRenderPreviousTemplate":"modalRenderNextTemplate",s=e.querySelector("a[data-trigger='".concat(l,"']"));s&&s.classList.remove("load-active");var u=e.querySelector("div.cta-controls");u&&u.classList.remove("loading")}},w=0;w<r.length;w++)if(h=b())return h.v},getTemplateType:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!window.appDirectoryPath)return!1;var t=window.appDirectoryPath.split("/"),r=t[t.length-1];return r=r.includes("-")?(r||"").split("-")[0]:r,e?r:("theme"===r&&(r="form"),"widgets"===r&&(r="widget"),"integrations"===r&&(r="integration"),r)},closeModalView:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=LiteCommon.getTemplateType();n=n?[n]:["form","pdf","widget","integration","app","page","table","approval","workflow"];for(var o,a=function(){var a=n[i],l=document.querySelector('div[data-container="'.concat(a,'-modal"]'));if(l&&"none"!==l.style.display&&(e||l===t.target)){if(l.remove(),e&&"disableHistoryState"!==e||(document.title=window.modalViewCanonical.title,history.pushState({},document.title,window.modalViewCanonical.url)),document.querySelectorAll(".header, .main, .jf-footer").forEach(function(e){e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","0")}),document.body.classList.remove("modal-open","modal-limit-open"),document.querySelector("html").classList.remove("overflow-hidden"),!document.querySelector("h1")&&document.querySelector("h2")&&(o=document.querySelector("h2"))){var c=document.createElement("h1");c.className=document.querySelector("h2").getAttribute("class"),c.innerHTML=o.innerHTML,o.parentNode.replaceChild(c,o)}var s=document.querySelector('link[rel="canonical"]');s&&s.setAttribute("href",window.modalViewCanonical.url);var u=document.querySelector('meta[name="description"]');u&&u.setAttribute("content",window.modalViewCanonical.description);var d=document.querySelector('meta[name="keywords"]');d&&d.setAttribute("content",window.modalViewCanonical.keywords);var p=document.querySelector('link[rel="image_src"]');p&&p.setAttribute("href",window.modalViewCanonical.image);var m=document.querySelector("ul[itemtype='http://schema.org/BreadcrumbList']");if(m){var f=m.querySelector("li[data-breadcrumb-type='template']"),v=document.querySelector("body.single-page");f&&!v&&(f.remove(),m.querySelector("li:last-child > span").remove())}r||setTimeout(function(){if("form"===a){var e=l.getAttribute("data-form-id");e&&document.querySelector("[data-container='"+e+"']")&&window.track("close-modal",e)}else window.track({app:"AppModalView",page:"PageModalView",table:"TableModalView",widget:"WidgetModalView",approval:"ApprovalModalView",integration:"IntegrationModalView",workflow:"WorkflowModalView"}[a],"close-modal")},0),window.directoryContext=window.location.href.includes("/category")?"category":"homepage"}if(l)return 1},i=0;i<n.length&&!a();i++);},closeModal:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&(window.initializeInlineTriggers=void 0),void 0!==window.isAppEmbedMode&&window.isAppEmbedMode&&Boolean(window.isAppEmbedMode))return!1;if("undefined"!=typeof PDF&&void 0!==PDF.isEmbedMode&&PDF.isEmbedMode&&Boolean(PDF.isEmbedMode))return!1;if(e.target){var n=e.target.parentElement;if(n){var o=n.classList.contains("modal")?n:document.querySelector("section.modal:not(.hide)");if(o&&o.classList.contains("modal")&&!o.classList.contains("hide")&&(o===e.target||t||e.target.classList.contains("modal-wrapper"))){var a=LiteCommon.getTemplateType(!0);if(["widgets","integrations"].includes(a)&&o.querySelectorAll("[data-container^='admin-']").forEach(function(e){e.removeAttribute("data-target"),e.removeAttribute("data-key"),e.removeAttribute("data-type")}),o.classList.add("hide"),!Array.from(document.querySelectorAll(".modal")).find(function(e){return!e.classList.contains("hide")&&"none"!==e.style.display})&&(document.body.classList.remove("modal-open","overflow-hidden"),document.querySelector("html").classList.remove("overflow-hidden"),window.location.href.includes("pdf-templates"))){var i=document.querySelector("input[data-id='e-sign-switcher']");i&&(window.modeESign=i.checked)}}o&&o.classList.contains("template-detail")&&LiteCommon.closeModalView(t,e),r(),window.breadcrumbsInitialized=!1}}},closeAllModals:function(){[].concat(_toConsumableArray(Array.from(document.querySelectorAll("section.modal"))),_toConsumableArray(Array.from(document.querySelectorAll(".template-detail")))).forEach(function(e){if(!e.classList.contains("hide")){var t=e.querySelector(".close-wp");LiteCommon.closeModal({target:t},!0)}}),history.pushState({},document.title,"".concat(location.origin).concat(window.appDirectoryPath)),window.location.reload()},handleTouchStartCloseModalBtn:function(e){e.preventDefault(),e.target.onclick(),window.breadcrumbsInitialized=!1},closeModalBtnClickHandler:function(e){LiteCommon.closeModal({target:e},"disableHistoryState",void 0,!0),document.querySelectorAll(".header, .main, .jf-footer").forEach(function(e){e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","0")}),window.breadcrumbsInitialized=!1},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},lockScroll:function(e){e.style.overflow="hidden",e.blur()},handleTemplateLoad:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(LiteCommon.isTouchDevice()){var o,a=e.target,i=VanillaHelper.getFirstParentElementByClassName(a,"modal-template-area");if(t)o=a;else{var l=a.contentWindow.document||a.contentDocument;if(o=l.querySelector("body"),r){var c=o.querySelector("object");o=(o=c.contentWindow.document||c.contentDocument).querySelector(".scrollableItemListWrapper")}else n&&(o=o.querySelector("#chat-container"))}o&&(o.addEventListener("scroll",function(e){var t=e.target;t.scrollTop>=t.scrollHeight-t.offsetHeight&&(LiteCommon.lockScroll(t),i.classList.remove("overflow-auto"),i.classList.add("overflow-hidden"))}),o.addEventListener("touchstart",function(){"hidden"===o.style.overflow&&(o.style.overflow="auto",i.classList.add("overflow-auto"),i.classList.remove("overflow-hidden"))}))}},initZapierModalTriggers:function(){this.initSvgator("efoq0Zp9eOT1"),this.initRatingElements()},initSvgator:function(e){var t=document.getElementById(e);t&&t.svgatorPlayer.ready(function(){var e=t?t.svgatorPlayer:{};e.play&&(e.play(),Array.from(document.querySelectorAll(".js-animated-text")).forEach(function(e){e.classList.add("zapier-hero--animated-text")})),e.on("keyframe",function(t){t>=6684&&e.seek(20)})})},initRatingElements:function(){document.querySelectorAll(".zapier--rating-wrapper").forEach(function(e,t){for(var r=parseFloat(e.querySelector(".zapier--rating-score").textContent),n=Math.floor(r),o=r-n,a=0;a<5;a++){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox","0 0 24 24"),i.classList.add("rating-stars","w-5","h-5");var l=document.createElementNS("http://www.w3.org/2000/svg","polygon");if(l.setAttribute("points","12,2 15,8 22,9 17,14 18,21 12,18 6,21 7,14 2,9 9,8"),a<n)i.classList.add("full"),l.setAttribute("fill","#FFB629");else if(a===n&&o>0){i.classList.add("partial");var c="partialGradient-".concat(t,"-").concat(a),s=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");s.setAttribute("id",c),s.setAttribute("x1","0%"),s.setAttribute("y1","0%"),s.setAttribute("x2","100%"),s.setAttribute("y2","0%");var u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("offset","".concat(100*o,"%")),u.setAttribute("stop-color","#FFB629");var d=document.createElementNS("http://www.w3.org/2000/svg","stop");d.setAttribute("offset","".concat(100*o,"%")),d.setAttribute("stop-color","transparent"),s.appendChild(u),s.appendChild(d);var p=document.createElementNS("http://www.w3.org/2000/svg","defs");p.appendChild(s),i.appendChild(p),l.setAttribute("fill","url(#".concat(c,")"))}else i.classList.add("empty"),l.setAttribute("fill","transparent");i.appendChild(l),e.appendChild(i)}})},setDefaultJotCookieObj:function(){window.jotCookie&&"function"==typeof window.jotCookie.setCookie||(window.jotCookie={setCookie:function(e){return e},readCookie:function(e){return e}})},getGptParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r={"target-keyword":{prettyName:"Target Keyword",inputID:"targetKeywordInput"},"target-audience":{prettyName:"Target Audience",inputID:"targetAudienceInput"},"use-cases":{prettyName:"Use Cases",inputID:"useCasesInput"},"selected-jf-products":{type:"select",inputID:"selectedJFProducts",prettyName:"Selected Jotform Products"},"selected-jf-integrations":{type:"select",inputID:"selectedJFIntegrations",prettyName:"Selected Jotform Integrations and Widgets"},"selected-jf-features":{type:"select",inputID:"selectedJFFeatures",prettyName:"Selected Jotform Features"},"selected-jf-benefits":{inputID:"selectedJFBenefits",prettyName:"Selected Jotform Benefits"},"assisted-seo-keyword":{inputID:"assistedSEOKeywords",prettyName:"Assisted SEO Keywords"},"additional-questions":{inputID:"additionalQAs",prettyName:"Additional Questions to answered by you"},"generate-faq":{type:"checkbox",inputID:"generate-faq",prettyName:"Generated FAQ Section"},"what-is-purpose":{inputID:"whatIsPurpose",prettyName:"What is/Purpose"},"who-can-use":{inputID:"whoCanUse",prettyName:"Who can use"},"how-to-create":{inputID:"howToCreate",prettyName:"How to create"},"tips-n-benefits":{inputID:"tipsBenefits",prettyName:"Tips/Benefits"},"other-names":{inputID:"otherNames",prettyName:"Other names"}},n=$("div[data-container='admin-edit-template']").attr("data-target"),o=$("div[data-container='admin-edit-template'][data-target='"+n+"']");return Object.keys(r).forEach(function(n){var a=r[n].inputID,i=r[n].type||"input",l=e.querySelector("#".concat(a));if("generate-faq"===n)r[n].value=l.checked;else if("select"===i){var c=$(o).find("select[data-id='".concat(a,"']")).val()||[];r[n].value=c.join(", ")||""}else r[n].value=l.value||"";t||delete r[n].inputID}),r}},handleRequiredGptInputs:function(e,t,r){var n=void 0!==r.filter(function(e){return t!==e}).map(function(e){return document.querySelector("#".concat(e)).value}).find(function(e){return""===e})||""===e;document.querySelector("#generateDescriptionBtn").setAttribute("class",n?"pointer-events-none bg-opacity-50 color-white bg-green-600 radius-md px-4 py-2 text-sm":"hover:bg-opacity-80 duration-200 bg-green-600 color-white radius-md px-4 py-2 text-sm")},fillGPTInputsPanel:function(e){var t=VanillaHelper.getObjectPropertSafe(e,["gptInfo","templateDescription","promptParameters"],null);if(t){var r=document.querySelector("#gpt-params");if(r){for(var n=LiteCommon.getGptParams(r,!0),o=!1,a=$("div[data-container='admin-edit-template'][data-target='"+(e._id||e.id)+"']"),i=function(){var e=_slicedToArray(c[l],2),t=e[0],r=e[1],i=Object.values(n).find(function(e){return e.prettyName===t});if(!i)return 1;var s=i.inputID,u=i.type,d=document.querySelector("#".concat(s));"checkbox"===u?(o=!0,d.checked="Yes"===r):"select"===u?r.split(",").forEach(function(e){o=!0,$(a).find("select[data-id='".concat(s,"']")).find("option[value='"+e.trim()+"']").attr("selected","selected").trigger("change")}):d&&"select"!==u&&(d.value=r,o=!0)},l=0,c=Object.entries(t);l<c.length;l++)i();o&&document.querySelector("#generateDescriptionBtn").setAttribute("class","hover:bg-opacity-80 duration-200 bg-green-600 color-white radius-md px-4 py-2 text-sm")}}},fillMambaInputOptions:function(e,t){$.each(["Form Builder","Jotform Apps","Jotform Tables","Jotform Mobile App","Report Builder","PDF Editor","Jotform Enterprise","Store Builder","Jotform Inbox","Jotform Approvals","Smart PDF Forms","Jotform Sign"],function(t,r){$(e).find("select[data-id='selectedJFProducts']").append($("<option>",{value:r,text:r,selected:!1}))}),$.each(["Conditional Logic","Save & Continue later","Form Translation","ACH Payments","Drag and Drop","Conversational Forms","Offline Forms","Google Analytics Form Tracking","Custom CSS","Embed Forms","Answer Piping","CRM Integrations","Google reCAPTCHA","Form Submission Management","Email Validation","Recurring Donations","Electronic Signature","Pre-Populate Forms","Autoresponder Emails","PCI Compliance","Recurring Subscriptions","Payment Sandbox Mode","eCheck Payments","Discount Coupons","Project Management Software Integrations","Email Marketing Tools","Hide Form Fields","Form Templates","Multiple Users","Local Data Residency","Export Submission Data","Form & Submission Sharing","Visual Report Builder","Form Analytics"],function(t,r){$(e).find("select[data-id='selectedJFFeatures']").append($("<option>",{value:r,text:r,selected:!1}))}),$.each(["Zapier","Square","PayPal","Slack","Google Sheets","Mailchimp","Zoom","Dropbox","Google Calendar","Hubspot","Salesforce","Zoho CRM","Active Campaign","Pipedrive","Zendesk","OneDrive","Airtable","monday.com","Asana","Stripe","Authorize.net","Trello","Ke"],function(t,r){$(e).find("select[data-id='selectedJFIntegrations']").append($("<option>",{value:r,text:r,selected:!1}))});var r=document.querySelector("#targetKeywordInput");if(r){var n=t.template._title||t.template.title;r.value=n||r.value}},normalizeGPTParamsObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},r=Object.keys(e);return Object.values(e).forEach(function(e,n){var o=e.prettyName,a=e.value;e.inputID,t[o]="generate-faq"===r[n]?"true"===a?"Yes":"No":a}),t},fillDescriptionWithAIGeneratedContent:function(e){var t=e.EditObj,r=e.response,n=e.modalContainer,o=e.title,a=e.nl2br,i=e.actionButton,l=r.data.simbaVersion,c=r.data.content;if(c&&c.length>0){var s=a(c),u=$(n).find("[data-id='description']");u.hasClass("ql-container")||new Quill(u[0],quillOptions);var d,p=_slicedToArray((s=s.replaceAll("**","")).split(/\bFAQs?\b(?:[^:<-]+)?:?/),2),m=p[0],f=p[1],v=(void 0===f?"":f).split("\n").map(function(e){return e.replace(/<\/?[^>]+(>|$)/g,"").trim()}).filter(function(e){return e.length>0}),y="<h2>\n<strong>\n".concat(o," FAQs\n</strong>\n</h2>\n"),g=1,h=[];if(v.forEach(function(e,t){if(t%2==0){var r=e.replace(/^\d+\.\s*/,"");r=(r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[^\w\s?]/g,"")}(r)).replace(o,o.toLowerCase()),y+='<h3>\n<strong style="background-color: transparent; color: rgb(0, 0, 0);">\n'.concat(g++,") ").concat(r,"\n</strong>\n</h3>\n"),d=r}else if(d){var n=e.trim();y+="<p>\n".concat(n,"\n</p>\n"),h.push({question:d,answer:n}),d=void 0}}),h.length>0){var b=$(n).find("[data-id='further-description']");Quill.find(b[0]).setContents(Quill.find(b[0]).clipboard.convert(y),"silent")}Quill.find(u[0]).setContents(Quill.find(u[0]).clipboard.convert(m),"silent"),$(n).find("textarea[data-id='meta-description']").val(m.split(". ").shift()),t.gptInfo=_objectSpread(_objectSpread({},t.gptInfo),{},{templateDescription:_objectSpread({simbaVersion:l,content:s,promptContent:r.data.prompt},"v2"===l&&{promptParameters:_objectSpread({},LiteCommon.normalizeGPTParamsObject(r.data.gptParams))})})}"v2"===l&&i&&(i.innerText="Generate",$(".js-gpt-loader").addClass("pointer-events-none hidden"))},getCookie:function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift()}};